<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jelmer Poelstra">
<meta name="dcterms.date" content="2025-09-22">

<title>Reproducibility 3 – OSU Code Club</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../img/codeclub_favicon_cc.jpg" rel="icon" type="image/jpeg">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2fa0555fe88427c29efa1b60aaf9e62d.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-cd03ec2eb3d93126c40b3547cc84a9a2.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-6C8GZCJTLH"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-6C8GZCJTLH', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../img/codeclub_favicon.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">OSU Code Club</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../pages/schedule.qmdgit st"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../pages/previous.html"> 
<span class="menu-text">Previous sessions</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-more-resources" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">More resources</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-more-resources">    
        <li>
    <a class="dropdown-item" href="../../pages/setup.html">
 <span class="dropdown-text">Computer setup (installations) for Code Club</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../pages/other.html">
 <span class="dropdown-text">Other coding-related OSU activities</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="https://osu-codeclub.github.io/carpentries-feb-2025/">
 <span class="dropdown-text">Material of an R for beginners workshop (Feb ’25)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://osu-codeclub.github.io/carpentries-aug-2025/">
 <span class="dropdown-text">Material of an R for beginners workshop (Aug ’25)</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://forms.gle/eYkMvmJShrcANUrt5"> 
<span class="menu-text">Sign up!</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/osu-codeclub/osu-codeclub.github.io">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/osu-codeclub/osu-codeclub.github.io/issues/new">
            Report an Issue
            </a>
          </li>
      </ul>
    </div>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction-reproducibility" id="toc-introduction-reproducibility" class="nav-link active" data-scroll-target="#introduction-reproducibility"><span class="header-section-number">1</span> Introduction: Reproducibility</a>
  <ul class="collapse">
  <li><a href="#what-is-reproducibility" id="toc-what-is-reproducibility" class="nav-link" data-scroll-target="#what-is-reproducibility"><span class="header-section-number">1.1</span> What is reproducibility?</a></li>
  <li><a href="#using-r-is-already-a-big-step-in-the-right-direction" id="toc-using-r-is-already-a-big-step-in-the-right-direction" class="nav-link" data-scroll-target="#using-r-is-already-a-big-step-in-the-right-direction"><span class="header-section-number">1.2</span> Using R is already a big step in the right direction!</a></li>
  <li><a href="#additional-aspects-of-reproducibility-and-what-well-cover-in-code-club" id="toc-additional-aspects-of-reproducibility-and-what-well-cover-in-code-club" class="nav-link" data-scroll-target="#additional-aspects-of-reproducibility-and-what-well-cover-in-code-club"><span class="header-section-number">1.3</span> Additional aspects of reproducibility and what we’ll cover in Code Club</a></li>
  <li><a href="#today" id="toc-today" class="nav-link" data-scroll-target="#today"><span class="header-section-number">1.4</span> Today</a></li>
  </ul></li>
  <li><a href="#use-a-self-contained-folder-for-each-project" id="toc-use-a-self-contained-folder-for-each-project" class="nav-link" data-scroll-target="#use-a-self-contained-folder-for-each-project"><span class="header-section-number">2</span> Use a self-contained folder for each project</a></li>
  <li><a href="#separate-files-using-a-consistent-subfolder-structure" id="toc-separate-files-using-a-consistent-subfolder-structure" class="nav-link" data-scroll-target="#separate-files-using-a-consistent-subfolder-structure"><span class="header-section-number">3</span> Separate files using a consistent subfolder structure</a></li>
  <li><a href="#use-relative-paths-in-your-code" id="toc-use-relative-paths-in-your-code" class="nav-link" data-scroll-target="#use-relative-paths-in-your-code"><span class="header-section-number">4</span> Use relative paths in your code</a>
  <ul class="collapse">
  <li><a href="#key-terms" id="toc-key-terms" class="nav-link" data-scroll-target="#key-terms"><span class="header-section-number">4.1</span> Key terms</a></li>
  <li><a href="#absolute-and-relative-paths" id="toc-absolute-and-relative-paths" class="nav-link" data-scroll-target="#absolute-and-relative-paths"><span class="header-section-number">4.2</span> Absolute and relative paths</a></li>
  <li><a href="#why-you-should-prefer-relative-paths" id="toc-why-you-should-prefer-relative-paths" class="nav-link" data-scroll-target="#why-you-should-prefer-relative-paths"><span class="header-section-number">4.3</span> Why you should prefer relative paths</a></li>
  </ul></li>
  <li><a href="#use-rstudio-projects-not-setwd" id="toc-use-rstudio-projects-not-setwd" class="nav-link" data-scroll-target="#use-rstudio-projects-not-setwd"><span class="header-section-number">5</span> Use RStudio Projects, not <code>setwd()</code></a>
  <ul class="collapse">
  <li><a href="#rstudio-projects" id="toc-rstudio-projects" class="nav-link" data-scroll-target="#rstudio-projects"><span class="header-section-number">5.1</span> RStudio Projects</a></li>
  <li><a href="#why-rstudio-projects-are-useful" id="toc-why-rstudio-projects-are-useful" class="nav-link" data-scroll-target="#why-rstudio-projects-are-useful"><span class="header-section-number">5.2</span> Why RStudio Projects are useful</a></li>
  <li><a href="#using-relative-paths-to-refer-to-files-within-the-project" id="toc-using-relative-paths-to-refer-to-files-within-the-project" class="nav-link" data-scroll-target="#using-relative-paths-to-refer-to-files-within-the-project"><span class="header-section-number">5.3</span> Using relative paths to refer to files within the project</a></li>
  </ul></li>
  <li><a href="#bonus-use-good-file-names" id="toc-bonus-use-good-file-names" class="nav-link" data-scroll-target="#bonus-use-good-file-names"><span class="header-section-number">6</span> Bonus: Use good file names</a>
  <ul class="collapse">
  <li><a href="#machine-readable" id="toc-machine-readable" class="nav-link" data-scroll-target="#machine-readable"><span class="header-section-number">6.1</span> Machine-readable</a></li>
  <li><a href="#human-readable" id="toc-human-readable" class="nav-link" data-scroll-target="#human-readable"><span class="header-section-number">6.2</span> Human-readable</a></li>
  <li><a href="#play-well-with-default-file-ordering" id="toc-play-well-with-default-file-ordering" class="nav-link" data-scroll-target="#play-well-with-default-file-ordering"><span class="header-section-number">6.3</span> Play well with default file ordering</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/osu-codeclub/osu-codeclub.github.io/edit/main/posts/S10E03_reprod_03/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/osu-codeclub/osu-codeclub.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Reproducibility recommendations: File organization and RStudio Projects</h1>
<p class="subtitle lead">File-related recommendations to improve the reproducibility of your research</p>
  <div class="quarto-categories">
    <div class="quarto-category">reproducibility</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jelmer Poelstra </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 22, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<hr>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/rproj.png" class="img-fluid figure-img"></p>
<figcaption>Artwork by <a href="https://twitter.com/allison_horst">@allison_horst</a></figcaption>
</figure>
</div>
<p><br></p>
<section id="introduction-reproducibility" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="introduction-reproducibility"><span class="header-section-number">1</span> Introduction: Reproducibility</h2>
<p>After covering Quarto in the first two sessions, today is the third of a series of Code Club sessions covering several topics under the umbrella of “reproducibility”.</p>
<section id="what-is-reproducibility" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="what-is-reproducibility"><span class="header-section-number">1.1</span> What is reproducibility?</h3>
<p>I would like to start by taking a step back to talk about reproducibility in general. What do we mean by <strong>reproducibility</strong>? Your research is reproducible when third parties are <strong>able to perform the same analysis on your data, and produce the same results.</strong></p>
<p>Reproducibility is perhaps a low bar compared to the related concept of <strong>replicability</strong>, which is the ability to produce the same (qualitative) results when applying the same analysis to <em>different data</em>. Here is a helpful table showing these two and two other related concepts:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/reproducible-matrix.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="From The Turing Way"><img src="img/reproducible-matrix.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%" alt="From The Turing Way"></a></p>
</figure>
</div>
<figcaption>From <a href="https://book.the-turing-way.org/reproducible-research/reproducible-research">The Turing Way</a></figcaption>
</figure>
</div>
<p>For example:</p>
<ul>
<li><p>Say that you’ve written a paper in which you present the results of one of your research projects. When this research is fully reproducible, it means that someone else should be able to be able to run the exact same analysis and produce all the results and figures using your paper and its associated documentation.</p></li>
<li><p>Relatedly, when you work in a reproducible manner and you abandon an analysis for say two years, you will be able to pick up from where you left off without much trouble.</p></li>
</ul>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="using-r-is-already-a-big-step-in-the-right-direction" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="using-r-is-already-a-big-step-in-the-right-direction"><span class="header-section-number">1.2</span> Using R is already a big step in the right direction!</h3>
<p>It is inherently more reproducible to write code, such as in R, than to do analyses by clicking in a program with a Graphical User Interface (GUI). This is because it it is easy to save your code and thereby to document and communicate what you did, but rather tedious to do this when you worked in a GUI.</p>
<p>In addition, R is open source and freely available. If you use a proprietary program that requires an expensive license, your work may be reproducible in principle, but for many people. won’t be in practice.</p>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="additional-aspects-of-reproducibility-and-what-well-cover-in-code-club" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="additional-aspects-of-reproducibility-and-what-well-cover-in-code-club"><span class="header-section-number">1.3</span> Additional aspects of reproducibility and what we’ll cover in Code Club</h3>
<p>Research that is fully reproducible should use a set of tools and best-practices related to:</p>
<ul>
<li>File organization <span style="color:darkgrey"><em>(this session)</em></span></li>
<li>Code style and organization <span style="color:darkgrey"><em>(next two sessions)</em></span></li>
<li>Version management <span style="color:darkgrey"><em>(Git at the end of the semester)</em></span></li>
<li>Data and code sharing <span style="color:darkgrey"><em>(In part: Git at the end of the semester)</em></span></li>
<li>Software management <span style="color:darkgrey"><em>(Within R with <em>renv</em> - may cover this later?)</em></span></li>
<li>Project documentation</li>
</ul>
</section>
<section id="today" class="level3" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="today"><span class="header-section-number">1.4</span> Today</h3>
<p>Today, we’ll go over the following four recommendations related to file organization that improve your research projects’ reproducibility.</p>
<ol type="1">
<li>Use a self-contained folder for each project</li>
<li>Separate files using a consistent subfolder structure</li>
<li>Use relative paths in your code</li>
<li>Use RStudio Projects, not <code>setwd()</code></li>
</ol>
<p>And at the bottom of the page, there is at-home reading material on a fifth recommendation:</p>
<ol start="5" type="1">
<li>Use good file names</li>
</ol>
<hr style="height:1pt; visibility:hidden;">
</section>
</section>
<section id="use-a-self-contained-folder-for-each-project" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="use-a-self-contained-folder-for-each-project"><span class="header-section-number">2</span> Use a self-contained folder for each project</h2>
<p>Using a self-contained folder, or really a hierarchy of folders, for one project means that you:</p>
<ul>
<li>Don’t mix files for multiple distinct projects inside one folder.</li>
<li>Don’t keep files for one project in multiple places.</li>
</ul>
<p>For example:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/proj-dirs.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Two research project folder hierarchies. Each box is a folder. The way to read this is that the blue data folder is contained within the project1 folder, which in turn is contained within the Documents folder."><img src="img/proj-dirs.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%" alt="A diagram showing two research project folder hierarchies."></a></p>
</figure>
</div>
<figcaption><em>Two research project folder hierarchies. Each box is a folder.<br>The way to read this is that the blue <code>data</code> folder is contained within the <code>project1</code> folder,<br>which in turn is contained within the Documents folder.</em></figcaption>
</figure>
</div>
<hr style="height:1pt; visibility:hidden;">
<p>Using a self-contained folder for each projects has many downstream benefits and is fundamental to using other reproducibility-related best practices. It also is more convenient in the long run, as it is easier to find files, harder to accidentally throw away stuff, etc.</p>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="separate-files-using-a-consistent-subfolder-structure" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="separate-files-using-a-consistent-subfolder-structure"><span class="header-section-number">3</span> Separate files using a consistent subfolder structure</h2>
<p>Within your project’s directory hierarchy, you should use a consistent subfolder structure to separate different kinds of files – for example, you should separate:</p>
<ul>
<li>Code</li>
<li>Raw data</li>
<li>Results (including “processed data”)</li>
</ul>
<p>Additionally, you should use plenty of subfolders to separate different kinds of results, and so on. While the specifics can depend a lot on what kind of data you have and how you are analyzing it, here is one good way of organizing a research project folder:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/proj-ex_annot.svg" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="An example research project folder structure. (The README file is your overall project documentation file, and additional documentation like lab notebooks are stored in doc.)"><img src="img/proj-ex_annot.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" alt="An example research project folder structure. (The README file is your overall project documentation file, and additional documentation like lab notebooks are stored in doc.)"></a></p>
</figure>
</div>
<figcaption><em>An example research project folder structure.<br>(The README file is your overall project documentation file, and additional documentation like lab notebooks are stored in <code>doc</code>.)</em></figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Related recommendations
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Treat raw data as read-only and as highly valuable</li>
<li>Avoid manually editing intermediate results</li>
</ul>
</div>
</div>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="use-relative-paths-in-your-code" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="use-relative-paths-in-your-code"><span class="header-section-number">4</span> Use relative paths in your code</h2>
<section id="key-terms" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="key-terms"><span class="header-section-number">4.1</span> Key terms</h3>
<p>To understand the recommendation to use relative paths in your code, let’s start by going over the following terms:</p>
<ol type="1">
<li><p><strong>“Directory”</strong> (<strong>“dir”</strong> for short) is another word for folder that is commonly used in coding contexts.</p></li>
<li><p>Your <strong>“working directory”</strong> is the directory where you are currently located. When you start R, it will always have a starting point at a specific location in your computer. You can see what your working directory is with the function <code>getwd()</code> (short for “get working dir”):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/poelstra.1/Library/CloudStorage/Dropbox/mcic/teach/codeclub/codeclub-site/posts/S10E03_reprod_03"</code></pre>
</div>
</div></li>
<li><p>The output of <code>getwd()</code> is a <strong>path</strong>, which specifies the location of a file or folder on a computer. In R’s output, folders are separated by forward slashes, as shown above.</p></li>
</ol>
<hr style="height:1pt; visibility:hidden;">
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Native paths on Windows versus Mac and Linux
</div>
</div>
<div class="callout-body-container callout-body">
<p>Even though R will report paths with forward slashes regardless of the operating system, <strong>Windows natively uses backslashes</strong>. Additionally, there are multiple root directories on Windows, indicated by letters. Here is an example native Windows file path:</p>
<pre class="bash-out-solo"><code>C:\Users\John Doe\Desktop\cats.png</code></pre>
<p>Versus an example Mac (or Linux) file path:</p>
<pre class="bash-out-solo"><code>/Users/John Doe/Desktop/cats.png</code></pre>
<p><strong>If you are on Windows, we recommend you <em>specify</em> paths in R with forward slashes</strong>, because:</p>
<ol type="1">
<li>It makes the path specification universal, i.e.&nbsp;independent of the operating system.</li>
<li>Because backslashes have a separate purpose in R, if you wanted to use backslashes, you’d actually need <strong>two</strong>. For example: <code>setwd("C:\\Users\\John Doe")</code>. This is confusing and error-prone!</li>
</ol>
</div>
</div>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="absolute-and-relative-paths" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="absolute-and-relative-paths"><span class="header-section-number">4.2</span> Absolute and relative paths</h3>
<p>There are two types of paths:</p>
<ul>
<li><p><strong>Absolute paths</strong>, also referred to as full paths, start from (one of) the computer’s root (top-level) directory. They correctly point to a file or folder regardless of what your working dir is.</p>
<p><em>If you think of a path as a way to point to a geographic location,</em> <em>then absolute paths are like GPS coordinates.</em></p></li>
<li><p><strong>Relative paths</strong> start from a specific working dir, and won’t work if you’re located elsewhere.</p>
<p><em>Again thinking of a path as a way to point to a geographic location,</em> <em>then relative paths are like directions like “Take the second left”.</em></p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/proj-paths1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="The absolute versus a relative path to a file. The relative path has the project1 folder as the starting point."><img src="img/proj-paths1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%" alt="The absolute versus a relative path to a file. The relative path has the project1 folder as the starting point."></a></p>
</figure>
</div>
<figcaption>The absolute versus a relative path to a file. The relative path has the <code>project1</code> folder as the starting point.</figcaption>
</figure>
</div>
<hr style="height:1pt; visibility:hidden;">
<section id="exercise-paths" class="level4 exercise">
<h4 class="anchored" data-anchor-id="exercise-paths"><i class="fa-solid fa-user-edit" aria-label="user-edit"></i> Exercise: paths</h4>
<ol type="1">
<li>In the image below, what is the absolute path to <code>todo_list.txt</code>?</li>
<li>If your working dir is <code>oneils</code>, what is the relative path to <code>todo_list.txt</code>?</li>
<li>If your working dir is <code>documents</code>, what is the relative path to <code>todo_list.txt</code>?</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/oneil_filesystem_ex2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Example dir structure on a Mac computer, from @oneil2019 (link to chapter)"><img src="img/oneil_filesystem_ex2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%" alt="A diagram of an example dir structure on a Mac computer."></a></p>
</figure>
</div>
<figcaption>Example dir structure on a Mac computer, from <span class="citation" data-cites="oneil2019">O’Neil (<a href="#ref-oneil2019" role="doc-biblioref">2019</a>)</span> (<a href="https://open.oregonstate.education/computationalbiology/chapter/the-command-line-and-filesystem/">link to chapter</a>)</figcaption>
</figure>
</div>
</section>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="why-you-should-prefer-relative-paths" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="why-you-should-prefer-relative-paths"><span class="header-section-number">4.3</span> Why you should prefer relative paths</h3>
<p>Don’t absolute paths sound better? What could be a disadvantage of them?</p>
<p>Absolute paths:</p>
<ul>
<li>Don’t generally work across computers</li>
<li>Break when your move a project folder hierarchy to a a different place on your computer</li>
</ul>
<p>On the other hand, this does not apply to relative paths that use the root project folder as the working dir. Those paths keep working when moving the folder within and between computers:</p>
<hr style="height:1pt; visibility:hidden;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/proj-paths2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Compared to the earlier image, everything was moved into a folder OndeDrive. This resulted in a change in the absolute path, but not to this relative path."><img src="img/proj-paths2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%" alt="Compared to the earlier image, everything was moved into a folder OndeDrive. This resulted in a change in the absolute path, but not to this relative path."></a></p>
</figure>
</div>
<figcaption>Compared to the earlier image, everything was moved into a folder <code>OndeDrive</code>.<br>This resulted in a change in the absolute path, but not to this relative path.</figcaption>
</figure>
</div>
<hr style="height:1pt; visibility:hidden;">
<div class="exercise">
<p>So, relative paths are preferred, <strong>but only when used in the following way:</strong></p>
<ol type="1">
<li>Your working directory is always your project’s root directory (<code>project1</code> in the example above)</li>
<li>You use relative paths that start at this directory</li>
</ol>
</div>
<hr style="height:1pt; visibility:hidden;">
</section>
</section>
<section id="use-rstudio-projects-not-setwd" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="use-rstudio-projects-not-setwd"><span class="header-section-number">5</span> Use RStudio Projects, not <code>setwd()</code></h2>
<p>If your R working directory is not where you want it to be, you can change it with the <code>setwd()</code> function. However, there is a better way – letting RStudio Projects set your working dir!</p>
<section id="rstudio-projects" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="rstudio-projects"><span class="header-section-number">5.1</span> RStudio Projects</h3>
<p><strong>RStudio Projects are an RStudio-specific concept that create a special file</strong>, <code>.Rproj</code>, whose location designates the R working directory when you open that project.</p>
<details>
<summary>
Given what we talked about so far, in which dir(s) do you think RStudio Projects should generally be created?
</summary>
In a project’s root directory! For example, in <code>project1</code> in the diagram above.
</details>
<p>Create a new RStudio Project:</p>
<ol type="1">
<li>Click <code>File</code> &gt; <code>New Project</code> &gt; <code>New Directory</code> &gt; <code>New project</code></li>
<li>In the next window:
<ul>
<li>Type <code>codeclub-project-practice</code> as the “Directory name”.</li>
<li>You may use the default location (parent dir) or change it – up to you.</li>
<li>Don’t check any of the boxes</li>
</ul></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/new-rstudio-project.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="img/new-rstudio-project.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></a></p>
</figure>
</div>
<p>After RStudio automatically reloads, <strong>the R working directory will be set to the dir in which your RStudio Project file is located.</strong> Therefore, you should see the file ending in <code>.Rproj</code> in the RStudio <code>Files</code> tab in the lower right pane. Also, you can check your working dir:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="why-rstudio-projects-are-useful" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="why-rstudio-projects-are-useful"><span class="header-section-number">5.2</span> Why RStudio Projects are useful</h3>
<p>In brief, RStudio Projects help you to organize your work and make it more reproducible:</p>
<ul>
<li><p>When using Projects, you can avoid manually setting your working directory altogether. To refer to files within the project, you <strong>can use relative file paths</strong>. This way, even if you move the project directory, or copy it to a different computer, the same paths will still work.</p></li>
<li><p>Projects encourage you to organize research projects inside self-contained folder hierarchies exactly as recommended above.</p></li>
<li><p>When you switch between Projects, R will restart — and this is a good thing, since you don’t want to randomly carry over objects and loaded packages across research projects.</p></li>
</ul>
<p>RStudio Projects are also convenient because:</p>
<ul>
<li>Projects record which scripts (and R Markdown files) are open in RStudio, and will reopen all of those when you reopen the project. This becomes quite handy, say, when you work on three different projects, each of which uses a number of different scripts.</li>
<li>The Files tab will always be (or at least start) in sync with your working dir</li>
</ul>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="using-relative-paths-to-refer-to-files-within-the-project" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="using-relative-paths-to-refer-to-files-within-the-project"><span class="header-section-number">5.3</span> Using relative paths to refer to files within the project</h3>
<p>Let’s recall the aforementioned way you should use relative paths:</p>
<ol type="1">
<li>Your working directory should always be your project’s root directory <span style="color:darkgoldenrod"><em>=&gt; this is taken care of by using RStudio projects and avoiding <code>setwd()</code></em></span></li>
<li>You should use relative paths that start at this directory <span style="color:darkgoldenrod"><em>=&gt; we’ll practice that now</em></span></li>
</ol>
<p>Here are a few examples of using relative paths in R:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># [Don't run - fictional examples]</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_tsv</span>(<span class="st">"data/experiment1.tsv"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"results/figures/barplot.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Two key aspects of specifying paths in R:</p>
<ul>
<li>You have to use quotes (either double or single quotes) around the path</li>
<li>As soon as you open quotes, either in the console or in your script, R will assume that you are trying to specify a path, and you can use <strong>Tab completion</strong> to essentially browse through your files. Practice with that in the exercise below!</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/tab-paths3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="When you open quotes in the R console, your script, or Quarto code blocks, and press Tab, you can essentially browse your files starting from your working dir."><img src="img/tab-paths3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%" alt="When you open quotes in the R console, your script, or Quarto code blocks, and press Tab, you can essentially browse your files starting from your working dir."></a></p>
</figure>
</div>
<figcaption><em>When you open quotes in the R console, your script, or Quarto code blocks, and press Tab, you can essentially browse your files starting from your working dir.</em></figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Accessing files that aren’t in the project dir
</div>
</div>
<div class="callout-body-container callout-body">
<p>Occasionally, you may need to access a file that is outside of your project dir (but the less that happens, the better – and this comes down to proper file organization). In that case, you can either use an absolute path, or a relative path that starts by going “up” one or more levels. You can navigate up with the <code>..</code> notation, for example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># [Don't run - fictional examples]</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The file is located in the dir:</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">read_tsv</span>(<span class="st">"../myfile.tsv"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The file is located in the dir Downloads, which is two levels up:</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">read_tsv</span>(<span class="st">"../../Downloads/myfile.tsv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<section id="exercise-file-organization-and-relative-paths" class="level4 exercise">
<h4 class="anchored" data-anchor-id="exercise-file-organization-and-relative-paths"><i class="fa-solid fa-user-edit" aria-label="user-edit"></i> Exercise: File organization and relative paths</h4>
<p>In this exercise, you are working on a mock research project within the folder that you created above (your RStudio Project folder). You will practice with file organization and using relative paths.</p>
<ol type="1">
<li><p>You will be writing to file some mock data, a computed summary of the data, a plot based on the data, and an R script. Create an appropriate dir structure for those files within your RStudio Project dir. It’s up to you how you do this: in the RStudio file panes, in your computer’s file explorer, or with R functions (<code>dir.create)</code>).</p>
<details>
<summary>
<p>Click here to see a solution</p>
</summary>
<p>From the above description, it seems appropriate to create <code>data</code>, <code>results</code>, and <code>scripts</code> dirs. Here, I’m also choosing to create a dir <code>plots</code> within results for plots.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">"data"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">"results/plots"</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">"scripts"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details></li>
<li><p>Open a new R script (<code>File</code> &gt; <code>New File</code> &gt; <code>R Script</code>) and save it in an appropriate location within your newly created dir structure. Then, add all the code for the next exercises in that script.</p>
<details>
<summary>
<p>Click here to see a solution</p>
</summary>
<p>It would be appropriate to save the script in a dir specifically for script, which was called <code>scripts</code> in the answer above. E.g., you could save it as <code>scripts/exercise.R</code>.</p>
</details></li>
<li><p>Load the tidyverse as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.2     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.1.0     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># If that produces an error, run the following command to install, then try again:</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("tidyverse")</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># library(tidyverse)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>Now, you will have access to a dataset (data frame) called <code>diamonds</code>. Modify the code below to write that data to file in an approriate location.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_tsv</span>(diamonds, <span class="st">"&lt;FILE-PATH&gt;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
<p>Click here to see a solution</p>
</summary>
<p>Assuming that you store the raw data in a dir called <code>data</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_tsv</span>(diamonds, <span class="st">"data/diamonds.tsv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details></li>
<li><p>Run the <code>ggplot()</code> code below to create a plot of the diamonds data, then modify the <code>ggsave()</code> line to save your plot to file in an appropriate location.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"&lt;FILE-PATH&gt;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
<p>Click here to see a solution</p>
</summary>
<p>Assuming that you store the plot in a dir called <code>results/plots</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(diamonds, <span class="fu">aes</span>(<span class="at">x =</span> carat, <span class="at">y =</span> price)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"results/plots/plot.png"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>
</details></li>
<li><p>Run the code below to summarize one aspect of the diamonds data, then modify the <code>write_tsv()</code> line to save your resulting data frame to file in an appropriate location.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>data_summary <span class="ot">&lt;-</span> diamonds <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_price =</span> <span class="fu">mean</span>(price), <span class="at">.by =</span> cut)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_tsv</span>(data_summary, <span class="st">"&lt;FILE-PATH&gt;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
<p>Click here to see a solution</p>
</summary>
<p>Assuming that you store the results in a dir called `results``:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>data_summary <span class="ot">&lt;-</span> diamonds <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_price =</span> <span class="fu">mean</span>(price), <span class="at">.by =</span> cut)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_tsv</span>(data_summary, <span class="st">"results/data_summary.tsv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details></li>
<li><p>In the RStudio files tab, take a look at the file (structure) you produced.</p></li>
</ol>
</section>
<p><br></p>
<hr>
<hr>
</section>
</section>
<section id="bonus-use-good-file-names" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="bonus-use-good-file-names"><span class="header-section-number">6</span> Bonus: Use good file names</h2>
<p>Here are three principles for good file names (<a href="https://speakerdeck.com/jennybc/how-to-name-files">from Jenny Bryan</a>) — good file names:</p>
<ul>
<li>Are machine-readable</li>
<li>Are human-readable</li>
<li>Play well with default file ordering</li>
</ul>
<hr style="height:1pt; visibility:hidden;">
<section id="machine-readable" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="machine-readable"><span class="header-section-number">6.1</span> Machine-readable</h3>
<p>Consistent and informative naming helps you to programmatically find and process files.</p>
<ul>
<li>Avoid spaces in file names. More generally, only use the following in file names:
<ul>
<li>Alphanumeric characters <kbd>A-Z</kbd>, <kbd>a-z</kbd>, <kbd>0-9</kbd></li>
<li>Underscores <kbd>_</kbd> and hyphens (dashes) <kbd>-</kbd></li>
<li>Periods (dots) <kbd>.</kbd></li>
</ul></li>
<li>In file names, you may provide <strong>metadata</strong> like Sample ID and date – (allowing you to easily select samples from e.g.&nbsp;a certain month): <code>sample032_2016-05-03.txt</code></li>
</ul>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="human-readable" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="human-readable"><span class="header-section-number">6.2</span> Human-readable</h3>
<p>One good way to combine machine- and human-readable (opinionated recommendations):</p>
<ul>
<li>Use <strong>underscores</strong> (<kbd>_</kbd>) to delimit units you may later want to separate on: sampleID, treatment, date.</li>
<li>Within such units, use <strong>dashes</strong> (<kbd>-</kbd>) to delimit words: <code>grass-samples</code>.</li>
<li>Limit the use of <strong>periods</strong> (<kbd>.</kbd>) to indicate file extensions.</li>
<li>Generally <em>avoid capitals</em>.</li>
</ul>
<p>For example:</p>
<pre class="bash-out-solo"><code>mmus001_treatmentA_filtered.tsv
mmus002_treatmentA_filtered.tsv
.
.
mmus086_treatmentA_filtered.tsv</code></pre>
<hr style="height:1pt; visibility:hidden;">
</section>
<section id="play-well-with-default-file-ordering" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="play-well-with-default-file-ordering"><span class="header-section-number">6.3</span> Play well with default file ordering</h3>
<ul>
<li>Use <strong>leading zeros</strong> for lexicographic sorting: <code>sample005</code>.</li>
<li><strong>Dates</strong> should always be written as <code>YYYY-MM-DD</code>: <code>2020-10-11</code>.</li>
<li><strong>Group similar files together</strong> by starting with same phrase, and <strong>number scripts</strong> by execution order:</li>
</ul>
<pre class="bash-out-solo"><code>DE-01_normalize.R
DE-02_test.R
DE-03_process-significant.R</code></pre>
<hr style="height:1pt; visibility:hidden;">



</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-turing2025" class="csl-entry" role="listitem">
Community, The Turing Way. 2025. <em>The <span>Turing</span> <span>Way</span>: <span>A</span> Handbook for Reproducible, Ethical and Collaborative Research</em>. <a href="https://10.5281/ZENODO.15213042">10.5281/ZENODO.15213042</a>.
</div>
<div id="ref-oneil2019" class="csl-entry" role="listitem">
O’Neil, Shawn T. 2019. <em>A Primer for Computational Biology</em>. Oregon State University. <a href="https://open.oregonstate.education/computationalbiology/">https://open.oregonstate.education/computationalbiology/</a>.
</div>
<div id="ref-wilson2017" class="csl-entry" role="listitem">
Wilson, Greg, Jennifer Bryan, Karen Cranston, Justin Kitzes, Lex Nederbragt, and Tracy K. Teal. 2017. <span>“Good Enough Practices in Scientific Computing.”</span> <em>PLOS Computational Biology</em> 13 (6): e1005510. <a href="https://doi.org/10.1371/journal.pcbi.1005510">https://doi.org/10.1371/journal.pcbi.1005510</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/osu-codeclub\.github\.io\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/osu-codeclub/osu-codeclub.github.io/edit/main/posts/S10E03_reprod_03/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/osu-codeclub/osu-codeclub.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>