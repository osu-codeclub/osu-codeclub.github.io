{
  "hash": "cbc5ea3c7aab556bb1bcc32ee57d7ff5",
  "result": {
    "markdown": "---\ntitle: \"My first GitHub document\"\nauthor: \"Jessica Cooperstone\"\ndate: \"October 28, 2024\"\nexecute:\n  eval: false\n---\n\n\n# Load libraries\n\nLet's add some material to our document so we can better see what our resulting documents will look like. This will also give us an opportunity to practice some of what we've been going over in Code Club this semester.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n# Download data\n\nLet's go back to what we started with this semester. Let's revisit data from [The World Factbook](https://www.cia.gov/the-world-factbook/), put together by the CIA to \"provides basic intelligence on the history, people, government, economy, energy, geography, environment, communications, transportation, military, terrorism, and transnational issues for 265 world entities.\" I thought this data would give us some opportunities to flex our R skills, and learn a bit about the world.\n\nThe data we are going to download can be found [here](https://www.cia.gov/the-world-factbook/field/population/country-comparison/), though I have saved the file, added it to our Code Club Github, and included some code below for you to download it. This is a little bit different than the data we started with which included only info from 2015. This dataset includes many more years.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndownload.file(\n  url = \"https://github.com/osu-codeclub/osu-codeclub.github.io/raw/refs/heads/main/posts/S08E01_wrangling_01/data/factbook.csv\",\n  destfile = \"factbook_download.csv\"\n)\n```\n:::\n\n\nYou should now see the file \"factbook_download.csv\" in your working directory.\n\n# Read in data\n\nWe can read it in using the tidyverse function from the [`readr`](https://readr.tidyverse.org/index.html) package called [`read_csv()`](https://readr.tidyverse.org/reference/read_delim.html).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# i've stored mine in a folder called data for organizational sake\nfactbook <- read_csv(\"data/factbook_download.csv\")\n```\n:::\n\n\nLet's look at our data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nView(factbook)\n```\n:::\n\n\n# Wrangle\n\nLet's pull just the data for total population.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfactbook_pop <- factbook |> \n  filter(`Series Name` == \"Population, total\")\n```\n:::\n\n\nAnd then we can look at it:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(factbook_pop)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(factbook_pop)\n```\n:::\n\n\n## Pivot\n\nLooks like our year columns are characters, let's convert them to be numeric, and in the process practice pivoting.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfactbook_pop_long <- factbook_pop |> \n  pivot_longer(cols = starts_with(\"2\"), # pick columns start with 2\n               names_to = \"year\", # take names to new col \"year\"\n               values_to = \"pop\") |> # values in cells to new col \"pop\"\n  mutate(year = parse_number(year)) |> # use mutate to remove extra year garbage\n  mutate(pop = as.numeric(pop)) # convert pop to be numeric\n\nglimpse(factbook_pop_long)\n```\n:::\n\n\nNow that we've cleaned that up, let's go back wide to calculate which country had the largest percent population growth from 2000 to 2015.\n\nGo wide! And let's clean up those column names at the same time.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfactbook_pop_wide <- factbook_pop_long |> \n  pivot_wider(names_from = year, # go from long to wide data\n              values_from = pop) |> \n  janitor::clean_names()\n```\n:::\n\n\n## Calculate percent population growth\n\nLet's now see which country had the largest percent population growth from 2000 to 2015.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfactbook_pop_wide |> \n  mutate(perc_pop_growth = ((x2015 - x2000)/x2000 * 100)) |> \n  mutate(perc_pop_growth = round(perc_pop_growth, digits = 1)) |> \n  select(country_name, perc_pop_growth, x2000, x2015) |> # pull only the columns we want\n  slice_max(perc_pop_growth, n = 5) # pick top 5\n```\n:::\n\n\nAnd which country had the smallest percent population growth from 2000 to 2015.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfactbook_pop_wide |> \n  mutate(perc_pop_growth = ((x2015 - x2000)/x2000 * 100)) |> \n  select(country_name, perc_pop_growth, x2000, x2015) |> # pull only the columns we want\n  slice_min(perc_pop_growth, n = 5) # pick lowest 5\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}