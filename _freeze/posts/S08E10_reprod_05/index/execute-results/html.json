{
  "hash": "030f825f643da8c5f4ebe4d3fb81957f",
  "result": {
    "markdown": "---\ntitle: \"Reproducibility 05: Making Changes with Git and GitHub üê±\"\nsubtitle: Using Quarto/RStudio, GitHub, and GitHub Desktop to edit contents in a repositoryü§©Ô∏è.\nauthor:\n  - \"Jessica Cooperstone\"\ndate: \"2024-11-18\"\ncategories: [git, github, version control, quarto]\ntitle-block-banner: false\nimage: img/github-cartoon-commits.png\nalttext: \"A confidently smiling monster is falling from a rock overhang, while secured by four anchors, each labeled ‚ÄúCommit‚Äù. Art by Allison Horst\"\n---\n\n\n------------------------------------------------------------------------\n\n<br>\n\n# Introduction\n\nWe are continuing this semester's Code Club series on reproducible research. So far, we have gone through:\n\n1.  [Some basics of reproducibility, file organization, and RStudio projects](https://osu-codeclub.github.io/posts/S08E06_reprod_01/)\n2.  [An intro to Quarto](https://osu-codeclub.github.io/posts/S08E07_reprod_02/)\n3.  [A little more about Quarto](https://osu-codeclub.github.io/posts/S08E08_reprod_03/)\n\nLast time, we went over how to:\n\n-   Install [Git](https://git-scm.com/downloads)\n-   Create a [GitHub account](https://github.com/join)\n-   Install [GitHub desktop](https://desktop.github.com/) and link it to your GitHub account\n-   Render a GitHub flavored markdown document\n-   Add our repository to GitHub desktop and add version control\n-   Publish your repository\n\nThe book [Happy Git and GitHub for the useR](https://happygitwithr.com/) is a super good resource by Jenny Bryan that talks about all this in extreme detail. Some of my materials below are inspired by some of this material.\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![Figure from [Allison Horst](https://github.com/allisonhorst/stats-illustrations)](img/github-cartoon.png){fig-align='center' fig-alt='A basic git workflow represented as two islands, one with local repo and working directory, and another with remote repo. Bunnies move file boxes from the working directory to the staging area, then with Commit move them to the local repo. Bunnies in rowboats move changes from the local repo to the remote repo (labeled PUSH) and from the remote repo to the working directory (labeled PULL). Art by Allison Horst' width=70%}\n:::\n:::\n\n\nToday, we are going to go over:\n\n-   How to edit contents in your repository\n-   How to push those changes to GitHub\n-   How to set up a `.gitignore`\n\n# Edit contents in your repo\n\nYou all should by now have a repo which contains our material from the last Code Club session. One thing that came up last time was making changes to your `README.md` so that the material on the front page of your repo is updated with some information about its contents.\n\nLast time, we initialized our repository with a README. If we look into our directory that is being tracked by git, we will see a file called `README.md`. Go ahead and open it.\n\n::: callout-note\n## If you didn't initialize with a README, that is ok, we can make one.\n\nGo to `File` \\> `New File` \\> `Markdown file`. Save this file in your folder being tracked by git with the name `README.md`.\n:::\n\nSince my README was pushed to GitHub, you can see it there:\n\n![](img/readme-original-screenshot.png)\n\nWhen I initialized my README, I gave it a description, so you can see that listed underneath the name of the repo on GitHub.\n\nWe can open up that `README.md` in RStudio to make edits to it.\n\nMy file looks like this:\n\n``` md\n# first-repo\n Understanding which countries have grown the most and least from 2000 to 2015.\n```\n\nLet's make some changes to our `README.md` and push them to GitHub.\n\nSince this is a Markdown document (file extension `.md`), it needs to be written in the Markdown language.\n\n-   The \"\\#\" indicates a level 1 (i.e., top level) header. That is why this is rendered to be larger and bolded text.\n-   Regular text can be typed just like you would in a text editor.\n\nI am going to change my file to look like this:\n\n``` md\n# Country-level population growth from 2000 to 2015\n\nThis repository contains code to calculate the percent rate of growth for each \ncountry from 2000 to 2015. The data comes from \n[The World Factbook](https://www.cia.gov/the-world-factbook/) and can be \ndownloaded on its own [here](https://github.com/osu-codeclub/osu-codeclub.github.io/blob/main/posts/S08E01_wrangling_01/factbook_download.csv).\n```\n\nClick `Preview` to render your `README.md` and see how it looks.\n\n![](img/readme-rendered.png)\n\n## Practice\nTry making a change to your README and preview the change.\n\n## Push your changes to GitHub\n\nNow that we've made a change to our `README.md`, let's push that change to GitHub. Start by opening GitHub Desktop. Make sure your repo is selected in the top right corner.\n\nWe now see something we didn't see before.\n\n![](img/readme-github-desktop-changes.png)\n\nAll of the changes we made are now tracked and specified in GitHub Desktop. We can see that two files have changed (our `README.md` and `README.html`). If you click on `README.md` you can see the changes we just made. These changes look more chaotic because they're rendered in html.\n\nTo send these changes to GitHub, we can enter a commit message, and click `Commit to main`. \n\n![](img/readme-commit.png)\n\nThen we will click `Push origin` (either as the blue button or on the top right). Note that in the bottom right corner, we can see what our commit was (here, mine was \"Updating to a more descriptive readme\").\n\n![](img/readme-push.png)   \n\nOnce we have done that, we are now \"working clean,\" meaning we have made no new changes to our files being tracked by git, and what is present locally will be the same as what is on GitHub.\n\n![](img/post-readme-push.png)\n\nWe can look online to see how our repo looks now, a few things to notice:\n\n-   Our README has changed - we can now see the changes we made reflected in the README that populates on the home page of our repo. If we click on `README.md`, we can also see those changes.\n-   We have a new most recent commit message (here, \"Updating to a more descriptive readme\"), and we can also see when this commit was made (here, 4 min ago)\n-   We see now that our repo has a total of 2 commits.\n\n![](img/post-readme-push-github.png)\n\n# Edit our `.gitignore`\n\nIf we look in our repo, we see some files are on GitHub that perhaps don't need to be there. For example:\n\n![](img/post-readme-push-github_trim.png)\n\n\nLet's look at our current `.gitignore` and see what's in that file. Mine looks like this:\n\n```\n# History files\n.Rhistory\n.Rapp.history\n\n# Session Data files\n.RData\n.RDataTmp\n\n# User-specific files\n.Ruserdata\n\n# Example code in package build process\n*-Ex.R\n\n# Output files from R CMD build\n/*.tar.gz\n\n# Output files from R CMD check\n/*.Rcheck/\n\n# RStudio files\n.Rproj.user/\n\n# produced vignettes\nvignettes/*.html\nvignettes/*.pdf\n\n# OAuth2 token, see https://github.com/hadley/httr/releases/tag/v0.3\n.httr-oauth\n\n# knitr and R markdown default cache directories\n*_cache/\n/cache/\n\n# Temporary files created by R markdown\n*.utf8.md\n*.knit.md\n\n# R Environment Variables\n.Renviron\n\n# pkgdown site\ndocs/\n\n# translation temp files\npo/*~\n\n# RStudio Connect folder\nrsconnect/\n```\n\nThis gives you some options to types of files you can put in your `.gitignore`. Today we are going to add:\n\n-   `.DS_Store` - this is a Mac specific filetyle\n-   `.gitattributes`\n\nI will add these files to my `.gitignore` and leave the rest of the text as it is.\n\n```md\n# Mac specific files\n.DS_Store\n\n# git attributes\n.gitattributes\n```\n\nIf I look in GitHub Desktop now, I can see that those changes have been tracked.\n\n![](img/update-gitignore.png)\n\nNow, we can make a commit, and then push to main.\n\n![](img/update-gitignore-commit.png)\n\n![](img/update-gitignore-push.png)\n\nBut - when we look at our repo, those files are still there! \n\n![](img/ignored-but-still-on-github.png)\n\nThat is because we have told Git to stop tracking them, but we haven't actually removed them from GitHub. We can do that now.\n\nThis is a good opportunity for us to try using the terminal a little, since I can't figure out how to do this without doing so. In GitHub Desktop, go to `Repository` > `Open in Terminal`. This will open up a terminal on your computer in the location of your tracked directory.\n\nIn our terminal, we can remove the files we do not want on GitHub. When your terminal is open you should see something like this:\n\n```\ncomputer-username@name-of-computer repo-name %\n```\n\nYou will use the command `git rm --cached name-of-file` to remove the files you added to your `.gitignore` but are still on GitHub. Two examples are below:\n\n![](img/rm_ds_store.png)\n\n![](img/rm_gitattributes.png)\n\n## Practice\nTry removing files that you don't want tracked with git.\n\n## Push our `.gitignore` changes to GitHub\n\nNow that we've removed the files we want, we can push our changes to GitHub. If you look at your GitHub Desktop, you should now see something like this:\n\n![](img/removed-files-github-desktop.png)\n\nWe can make another commit, and push that change to main.\n\n![](img/remove-files-commit.png)\n\n![](img/remove-files-push.png)\n\nNow, if we look on GitHub, we can see those files are now gone.\n\n![](img/ignored-files-gone.png)\n\nDo keep in mind that those files are not totally gone -- if we go back to our original commit, we will see those files again. Keep this in mind, that once something is committed, it is really tracked. You can see this by clicking on \"commits\" in the top right corner of your repo. When you do this, you can see the whole commit history of this repo.\n\n![](img/commit-history.png)\n\nAnd if we click on our original commit, we can see those files we added to our `.gitignore` and their contents.\n\n![](img/ignored-files-original-commit.png)\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}